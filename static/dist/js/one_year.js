!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.CountUp=e()}(this,function(t,e,o){var r=function(t,e,o,r,a,n){for(var i=0,l=["webkit","moz","ms","o"],u=0;u<l.length&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[l[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[u]+"CancelAnimationFrame"]||window[l[u]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var o=(new Date).getTime(),r=Math.max(0,16-(o-i)),a=window.setTimeout(function(){t(o+r)},r);return i=o+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),this.options={useEasing:!0,useGrouping:!0,separator:",",decimal:"."};for(var s in n)n.hasOwnProperty(s)&&(this.options[s]=n[s]);""===this.options.separator&&(this.options.useGrouping=!1),this.options.prefix||(this.options.prefix=""),this.options.suffix||(this.options.suffix=""),this.d="string"==typeof t?document.getElementById(t):t,this.startVal=Number(e),this.endVal=Number(o),this.countDown=this.startVal>this.endVal,this.frameVal=this.startVal,this.decimals=Math.max(0,r||0),this.dec=Math.pow(10,this.decimals),this.duration=1e3*Number(a)||2e3;var c=this;this.version=function(){return"1.6.1"},this.printValue=function(t){var e=isNaN(t)?"--":c.formatNumber(t);"INPUT"==c.d.tagName?this.d.value=e:"text"==c.d.tagName||"tspan"==c.d.tagName?this.d.textContent=e:this.d.innerHTML=e},this.easeOutExpo=function(t,e,o,r){return o*(-Math.pow(2,-10*t/r)+1)*1024/1023+e},this.count=function(t){c.startTime||(c.startTime=t),c.timestamp=t;var e=t-c.startTime;c.remaining=c.duration-e,c.options.useEasing?c.countDown?c.frameVal=c.startVal-c.easeOutExpo(e,0,c.startVal-c.endVal,c.duration):c.frameVal=c.easeOutExpo(e,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.frameVal=c.startVal-(c.startVal-c.endVal)*(e/c.duration):c.frameVal=c.startVal+(c.endVal-c.startVal)*(e/c.duration),c.countDown?c.frameVal=c.frameVal<c.endVal?c.endVal:c.frameVal:c.frameVal=c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.floor(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),e<c.duration?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},this.start=function(t){return c.callback=t,c.rAF=requestAnimationFrame(c.count),!1},this.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},this.reset=function(){c.paused=!1,delete c.startTime,c.startVal=e,cancelAnimationFrame(c.rAF),c.printValue(c.startVal)},this.update=function(t){cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=Number(t),c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count)},this.formatNumber=function(t){t=t.toFixed(c.decimals),t+="";var e,o,r,a;if(e=t.split("."),o=e[0],r=e.length>1?c.options.decimal+e[1]:"",a=/(\d+)(\d{3})/,c.options.useGrouping)for(;a.test(o);)o=o.replace(a,"$1"+c.options.separator+"$2");return c.options.prefix+o+r+c.options.suffix},c.printValue(c.startVal)};return r}),window.onload=function(){function t(t){return(Math.round(1e4*t)/100).toFixed(0)+"%"}function e(t){var e=new Date(t);return Y=e.getFullYear()+"-",M=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",D=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",Y+M+D}function o(){var t={responsive:!1,animationSteps:60,segmentShowStroke:!1},e=document.getElementById("date").getContext("2d");new Chart(e).Doughnut(nt,t);var o=document.getElementById("climb").getContext("2d");new Chart(o).Doughnut(it,t);var r=document.getElementById("time").getContext("2d");new Chart(r).Doughnut(lt,t);var a=document.getElementById("consume").getContext("2d");new Chart(a).Doughnut(ut,t)}function r(){window.myRadar=new Chart(document.getElementById("radarcanvas").getContext("2d")).Radar(ct,{responsive:!0,pointLabelFontSize:11})}function a(){var t=document.getElementById("barcanvas").getContext("2d");new Chart(t).Bar(st,{responsive:!0,scaleShowLabels:!0,scaleFontSize:9,pointLabelFontSize:10,scaleOverride:!0,scaleSteps:4,scaleStepWidth:Math.round(P/4),scaleStartValue:0})}function n(){function t(){for(var t=0;t<n.length;t++){var o=n[t],r=o.getAttribute("data-num"),a=new CountUp(o,0,r,0,1,e);a.start()}}"true"!==dt.getAttribute("showed")&&dt.classList.contains("swiper-slide-active")&&(setTimeout(o,200),dt.setAttribute("showed","true")),"true"!==mt.getAttribute("showed")&&mt.classList.contains("swiper-slide-active")&&(setTimeout(r,200),setTimeout(a,200),mt.setAttribute("showed","true"));var e={useEasing:!0,useGrouping:!1},n=document.querySelectorAll(".ani-num");pt.classList.contains("swiper-slide-active")&&t(),gt.classList.contains("swiper-slide-active")&&t()}var i=_DATA;0===i.have_record&&(document.querySelector(".page5").classList.add("empty"),document.querySelector(".page6").classList.add("empty")),document.querySelector("#username").textContent=i.username;for(var l=i.mvcdis.split(","),u=0,s=0;s<l.length;s++)u+=parseInt(l[s]);for(var c=i.mvrdis.split(","),d=0,s=0;s<c.length;s++)d+=parseInt(c[s]);for(var m=i.mvwdis.split(","),p=0,s=0;s<m.length;s++)p+=parseInt(m[s]);var g=p+d+u;document.querySelector("#bicycleKm").textContent=Math.round(u/1e3),document.querySelector("#runKm").textContent=Math.round(d/1e3),document.querySelector("#walkKm").textContent=Math.round(p/1e3);var h=(u/g).toFixed(2),y=(d/g).toFixed(2),w=(p/g).toFixed(2);document.querySelector("#mvcdisWidth").style.width=t(h),document.querySelector("#mvrdisWidth").style.width=t(y),document.querySelector("#mvwdisWidth").style.width=t(w);for(var v=i.mvcdur.split(","),f=0,s=0;s<v.length;s++)f+=parseInt(v[s]);f=Math.round(f/3600),document.querySelector("#mvcdurtotal").textContent=f;for(var b=i.mvrdur.split(","),C=0,s=0;s<b.length;s++)C+=parseInt(b[s]);C=Math.round(C/3600),document.querySelector("#mvrdurtotal").textContent=C;for(var S=i.mvwdur.split(","),q=0,s=0;s<S.length;s++)q+=parseInt(S[s]);q=Math.round(q/3600),document.querySelector("#mvwdurtotal").textContent=q,durtotal=q+C+f,document.querySelector("#durtotal").textContent=durtotal;for(var x=i.mvceg.split(","),V=0,s=0;s<x.length;s++)V+=parseInt(x[s]);V=Math.round(V/1e3),document.querySelector("#mvcegtotal").textContent=V;for(var F=i.mvreg.split(","),A=0,s=0;s<F.length;s++)A+=parseInt(F[s]);A=Math.round(A/1e3),document.querySelector("#mvregtotal").textContent=A;for(var k=i.mvweg.split(","),I=0,s=0;s<k.length;s++)I+=parseInt(k[s]);I=Math.round(I/1e3),document.querySelector("#mvwegtotal").textContent=I,egtotal=I+A+V,document.querySelector("#egtotal").textContent=egtotal;for(var L=i.mvccou.split(","),T=0,s=0;s<L.length;s++)T+=parseInt(L[s]);document.querySelector("#mvccoutotal").textContent=T;for(var E=i.mvrcou.split(","),N=0,s=0;s<E.length;s++)N+=parseInt(E[s]);document.querySelector("#mvrcoutotal").textContent=N;for(var z=i.mvwcou.split(","),H=0,s=0;s<z.length;s++)H+=parseInt(z[s]);document.querySelector("#mvwcoutotal").textContent=H,coutotal=H+N+T,document.querySelector("#coutotal").textContent=coutotal;var B=parseInt(i.wcal),j=parseInt(i.rcal),_=parseInt(i.ccal);cal=B+j+_,document.querySelector("#cal").textContent=cal,document.querySelector("#wcal").textContent=B,document.querySelector("#rcal").textContent=j,document.querySelector("#ccal").textContent=_,ability=2*(parseInt(i.cclev)+parseInt(i.pplev)+parseInt(i.hydlev)+parseInt(i.nllev)+parseInt(i.jqlev)),document.querySelector("#ability").textContent=ability;var O=[];O.push(10*i.cclev),O.push(10*i.jqlev),O.push(10*i.nllev),O.push(10*i.hydlev),O.push(10*i.pplev),document.querySelector("#user_rank").textContent=i.user_rank;for(var R=i.mvdis.split(","),G=[],P=0,s=0;s<R.length;s++)G[s]=Math.round(parseInt(R[s])/1e3),P<G[s]&&(P=G[s]);if(""===i.medals)document.querySelector(".page4").classList.add("empty");else{for(var W=i.medals.split(","),K="",s=0;s<W.length;s++)K+='<img class="ani swiper-lazy" swiper-animate-effect="zoomIn" swiper-animate-delay=".2s" swiper-animate-duration=".5s" data-src="'+W[s]+'!medalSmall">';document.querySelector(".medal-container").innerHTML=K}if("-1"===i.have_record)document.querySelector(".page5").classList.add("empty"),document.querySelector(".page7").classList.add("empty");else{for(var U=i.mveg.split(","),$=0,s=0;s<U.length;s++)$+=parseInt(U[s]);for(var J=0,s=0;s<R.length;s++)J+=parseInt(R[s]);carbonemission=parseInt(J/1e3*.055),document.querySelector("#carbonemission").setAttribute("data-num",carbonemission),petrol=parseInt(.73*carbonemission),document.querySelector("#petrol").setAttribute("data-num",petrol),document.querySelector("#cal2").setAttribute("data-num",cal),document.querySelector("#hbb").setAttribute("data-num",Math.round(cal/400)),document.querySelector("#mveg").setAttribute("data-num",Math.floor($/1e3)),document.querySelector("#mvegcount").setAttribute("data-num",Math.floor($/8844)),document.querySelector("#cdayslen").setAttribute("data-num",i.cdayslen);for(var Q=i.mvcou.split(","),X=0,s=0;s<Q.length;s++)X+=parseInt(Q[s]);document.querySelector("#mvcou").setAttribute("data-num",X),document.querySelector("#lc").setAttribute("data-num",i.lc),document.querySelector("#acc").setAttribute("data-num",i.acc),document.querySelector("#acjc").setAttribute("data-num",i.acjc),document.querySelector("#ajc").setAttribute("data-num",i.ajc)}document.querySelector("#mdur1").textContent=Math.floor(i.mdur/3600),document.querySelector("#mdur2").textContent=Math.floor((i.mdur-3600*Math.floor(i.mdur/3600))/60),document.querySelector("#mdurid").textContent=i.mdurid,document.querySelector("#mdis").textContent=Math.floor(i.mdis/1e3),document.querySelector("#meg").textContent=i.meg,document.querySelector("#megid").textContent=i.megid,document.querySelector("#msp").textContent=i.msp,document.querySelector("#mspid").textContent=i.mspid,document.querySelector("#mdisid").textContent=i.mdisid,document.querySelector("#mdisidtoo").textContent=i.mdisid,void 0===i.workout.uuid?(console.log(i.workout.uuid),document.querySelector("#workoutLonger").setAttribute("data-src","http://imxingzhe.com/api/get_workout_image?scale=1&copyright=1&width=750.000000&height=308.000000&distance="+i.workout.wdis+"&duration="+i.workout.wdur+"&id="+i.mdisid)):document.querySelector("#workoutLonger").setAttribute("data-src","http://static.imxingzhe.com/workout/"+i.workout.uuid+".png");var Z=parseInt(i.workout.wst);document.querySelector("#wst").textContent=e(Z),document.querySelector("#wdis").textContent=Math.floor(i.workout.wdis/1e3),document.querySelector("#weg").textContent=i.workout.weg;var tt=Math.floor(i.workout.wdur/3600),et=Math.floor((i.workout.wdur-3600*tt)/60);i.workout.wdur-3600*tt-60*et;if(document.querySelector("#wdur").textContent=tt+"小时"+et+"分",totalmiles=parseInt(i.workout.wdis)+parseInt(i.workout.weg),sp=totalmiles/i.workout.wdur,document.querySelector("#wavesp").textContent=(3.6*sp).toFixed(2),""===i.city)document.querySelector("#citycount").textContent="0";else{var ot=i.city.split(","),rt=ot.length,at=document.querySelector("#city");document.querySelector("#citycount").textContent=rt,at.textContent=i.city,rt>20&&50>=rt?at.style.fontSize="0.32rem":rt>50&&(at.style.fontSize="0.24rem")}var nt=(new Swiper(".swiper-container",{direction:"vertical",lazyLoading:!0,lazyLoadingInPrevNext:!0,watchSlidesProgress:!0,watchSlidesVisibility:!0,onInit:function(t){swiperAnimateCache(t),swiperAnimate(t)},onSlideChangeEnd:function(t){swiperAnimate(t),n()}}),[{value:f,color:"#1085c4"},{value:C,color:"#87d1e6"},{value:q,color:"#e39908"}]),it=[{value:V,color:"#1085c4"},{value:A,color:"#87d1e6"},{value:I,color:"#e39908"}],lt=[{value:T,color:"#1085c4"},{value:N,color:"#87d1e6"},{value:H,color:"#e39908"}],ut=[{value:_,color:"#1085c4"},{value:j,color:"#87d1e6"},{value:B,color:"#e39908"}],st={labels:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],datasets:[{fillColor:"#87d1e6",data:G}]},ct={labels:["冲刺","技巧","耐力","活跃度","爬升"],datasets:[{label:"My First dataset",fillColor:"rgba(0,28,71,1)",data:[100,100,100,100,100]},{label:"My First dataset",fillColor:"rgba(24,53,98,0.8)",strokeColor:"rgba(24,53,98,0)",pointColor:"rgba(24,53,98,0)",pointStrokeColor:"rgba(24,53,98,0)",pointHighlightFill:"rgba(24,53,98,0)",data:[90,90,90,90,90]},{label:"My First dataset",fillColor:"rgba(42,89,134,0.8)",strokeColor:"rgba(24,53,98,0)",pointColor:"rgba(24,53,98,0)",pointStrokeColor:"rgba(24,53,98,0)",pointHighlightFill:"rgba(24,53,98,0)",data:[80,80,80,80,80]},{label:"My First dataset",fillColor:"rgba(60,125,170,0.8)",strokeColor:"rgba(60,125,170,0)",pointColor:"rgba(60,125,170,0)",pointStrokeColor:"rgba(60,125,170,0)",pointHighlightFill:"rgba(60,125,170,0)",data:[70,70,70,70,70]},{label:"My First dataset",fillColor:"rgba(75,153,199,0.8)",strokeColor:"rgba(75,153,199,0)",pointColor:"rgba(75,153,199,0)",pointStrokeColor:"rgba(75,153,199,0)",pointHighlightFill:"rgba(75,153,199,0)",data:[60,60,60,60,60]},{label:"My First dataset",fillColor:"rgba(85,171,217,0.8)",strokeColor:"rgba(85,171,217,0)",pointColor:"rgba(85,171,217,0)",pointStrokeColor:"rgba(85,171,217,0)",pointHighlightFill:"rgba(85,171,217,0)",data:[50,50,50,50,50]},{label:"My First dataset",fillColor:"rgba(91,183,228,0.8)",strokeColor:"rgba(91,183,228,0)",pointColor:"rgba(91,183,228,0)",pointStrokeColor:"rgba(91,183,228,0)",pointHighlightFill:"rgba(91,183,228,0)",data:[40,40,40,40,40]},{label:"My First dataset",fillColor:"rgba(105,196,240,0.8)",strokeColor:"rgba(105,196,240,0)",pointColor:"rgba(105,196,240,0)",pointStrokeColor:"rgba(105,196,240,0)",pointHighlightFill:"rgba(105,196,240,0)",data:[30,30,30,30,30]},{label:"My First dataset",fillColor:"rgba(189,154,64,0.01)",strokeColor:"#bd9a40",pointColor:"#bd9a40",pointStrokeColor:"#bd9a40",pointHighlightFill:"#bd9a40",data:O}]},dt=document.querySelector(".page2"),mt=document.querySelector(".page3"),pt=document.querySelector(".page5"),gt=document.querySelector(".page7")};