function Swipe(t,n){"use strict";function e(){w=h.children,m=new Array(w.length),E=t.getBoundingClientRect().width||t.offsetWidth,h.style.width=w.length*E+"px";for(var n=w.length;n--;){var e=w[n];e.style.width=E+"px",e.setAttribute("data-index",n),f.transitions&&(e.style.left=n*-E+"px",a(n,p>n?-E:n>p?E:0,0))}f.transitions||(h.style.left=p*-E+"px"),t.style.visibility="visible"}function i(){p?r(p-1):n.continuous&&r(w.length-1)}function o(){p<w.length-1?r(p+1):n.continuous&&r(0)}function r(t,e){if(p!=t){if(f.transitions){for(var i=Math.abs(p-t)-1,o=Math.abs(p-t)/(p-t);i--;)a((t>p?t:p)-i-1,E*o,0);a(p,E*o,e||x),a(t,0,e||x)}else d(p*-E,t*-E,e||x);p=t,v(n.callback&&n.callback(p,w[p]))}}function a(t,n,e){s(t,n,e),m[t]=n}function s(t,n,e){var i=w[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+n+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+n+"px)")}function d(t,e,i){if(!i)return void(h.style.left=e+"px");var o=+new Date,r=setInterval(function(){var a=+new Date-o;return a>i?(h.style.left=e+"px",b&&u(),n.transitionEnd&&n.transitionEnd.call(event,p,w[p]),void clearInterval(r)):void(h.style.left=(e-t)*(Math.floor(a/i*100)/100)+t+"px")},4)}function u(){T=setTimeout(o,b)}function c(){b=0,clearTimeout(T)}var l=function(){},v=function(t){setTimeout(t||l,0)},f={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var n=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var e in n)if(void 0!==t.style[n[e]])return!0;return!1}(document.createElement("swipe"))};if(t){var h=t.children[0],w,m,E;n=n||{};var p=parseInt(n.startSlide,10)||0,x=n.speed||300;n.continuous=n.continuous?n.continuous:!0;var b=n.auto||0,T,y={},L={},g,k={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":v(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":v(this.transitionEnd(t));break;case"resize":v(e.call())}n.stopPropagation&&t.stopPropagation()},start:function(t){var n=t.touches[0];y={x:n.pageX,y:n.pageY,time:+new Date},g=void 0,L={},h.addEventListener("touchmove",this,!1),h.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){n.disableScroll&&t.preventDefault();var e=t.touches[0];L={x:e.pageX-y.x,y:e.pageY-y.y},"undefined"==typeof g&&(g=!!(g||Math.abs(L.x)<Math.abs(L.y))),g||(t.preventDefault(),c(),L.x=L.x/(!p&&L.x>0||p==w.length-1&&L.x<0?Math.abs(L.x)/E+1:1),s(p-1,L.x+m[p-1],0),s(p,L.x+m[p],0),s(p+1,L.x+m[p+1],0))}},end:function(t){var e=+new Date-y.time,i=Number(e)<250&&Math.abs(L.x)>20||Math.abs(L.x)>E/2,o=!p&&L.x>0||p==w.length-1&&L.x<0,r=L.x<0;g||(i&&!o?(r?(a(p-1,-E,0),a(p,m[p]-E,x),a(p+1,m[p+1]-E,x),p+=1):(a(p+1,E,0),a(p,m[p]+E,x),a(p-1,m[p-1]+E,x),p+=-1),n.callback&&n.callback(p,w[p])):(a(p-1,-E,x),a(p,0,x),a(p+1,E,x))),h.removeEventListener("touchmove",k,!1),h.removeEventListener("touchend",k,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==p&&(b&&u(),n.transitionEnd&&n.transitionEnd.call(t,p,w[p]))}};return e(),b&&u(),f.addEventListener?(f.touch&&h.addEventListener("touchstart",k,!1),f.transitions&&(h.addEventListener("webkitTransitionEnd",k,!1),h.addEventListener("msTransitionEnd",k,!1),h.addEventListener("oTransitionEnd",k,!1),h.addEventListener("otransitionend",k,!1),h.addEventListener("transitionend",k,!1)),window.addEventListener("resize",k,!1)):window.onresize=function(){e()},{setup:function(){e()},slide:function(t,n){r(t,n)},prev:function(){c(),i()},next:function(){c(),o()},getPos:function(){return p},kill:function(){c(),h.style.width="auto",h.style.left=0;for(var t=w.length;t--;){var n=w[t];n.style.width="100%",n.style.left=0,f.transitions&&s(t,0,0)}f.addEventListener?(h.removeEventListener("touchstart",k,!1),h.removeEventListener("webkitTransitionEnd",k,!1),h.removeEventListener("msTransitionEnd",k,!1),h.removeEventListener("oTransitionEnd",k,!1),h.removeEventListener("otransitionend",k,!1),h.removeEventListener("transitionend",k,!1),window.removeEventListener("resize",k,!1)):window.onresize=null}}}}(window.jQuery||window.Zepto)&&!function($){$.fn.Swipe=function(t){return this.each(function(){$(this).data("Swipe",new Swipe($(this)[0],t))})}}(window.jQuery||window.Zepto);