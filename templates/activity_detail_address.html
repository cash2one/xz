<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>活动目的地</title>
    <style type="text/css">
    body,
    html,
    #allmap {
        width: 100%;
        height: 100%;
        overflow: hidden;
        margin: 0;
    }
    .header {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        z-index: 9;
        width: 100%;
        height: 48px;
        line-height: 48px;
        color: #444;
        background-color: #f2f2f2;
        background-color: rgba(255,255,255,.9);
        -webkit-box-shadow: 0 2px 1px -1px rgba(0,0,0,.2);
        box-shadow: 0 2px 1px -1px rgba(0,0,0,.2);
        text-align: center;
        vertical-align: middle;
    }
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?type=quick&ak=I1uWI2bIOWDQbZNEfarmd7He&v=1.0"></script>
</head>

<body>
    <header class="header">点击活动地点，查询到达路线</header>
    <div id="allmap"></div>
    <script>
    var map = new BMap.Map("allmap"),
        addr = '{{ activity.mass_address }}';

    // 创建地址解析器实例     
    var myGeo = new BMap.Geocoder();
    // 将地址解析结果显示在地图上，并调整地图视野    
    myGeo.getPoint(addr, function(point) {
        if (point) {
            map.centerAndZoom(point, 16);
            map.addOverlay(new BMap.Marker(point));
        }
    }, '{{ activity.mass_city }}');
    </script>
</body>

</html>
